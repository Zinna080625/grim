<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grims 약탈 서버</title>
    <style>
        body { background-color: #121212; color: #eee; font-family: 'Noto Sans KR', sans-serif; text-align: center; margin: 0; padding: 100px 20px; }
        .container { max-width: 600px; margin: auto; background: #1e1e1e; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); border: 1px solid #333; }
        h1 { color: #00d4ff; font-size: 3rem; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 2px; }
        .ip-box { background: #2f3542; padding: 20px; border-radius: 12px; font-size: 1.4rem; cursor: pointer; border: 2px dashed #00d4ff; transition: 0.3s; margin-top: 30px; }
        .ip-box:hover { background: #3e4451; transform: scale(1.02); }
        .copy-hint { font-size: 0.9rem; color: #888; margin-top: 8px; }
        .status { margin-top: 25px; font-weight: bold; color: #2ed573; font-size: 1.1rem; }
        .btn-group { margin-top: 30px; }
        .btn { display: inline-block; padding: 12px 30px; background: #5865F2; color: white; text-decoration: none; border-radius: 8px; font-weight: bold; transition: 0.3s; }
        .btn:hover { background: #4752c4; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Grims Server</h1>
        <p>최고의 약탈과 짜릿한 전투가 기다립니다.</p>
        
        <div class="ip-box" onclick="copyIP()">
            grims.kro.kr
            <div class="copy-hint">(클릭하여 주소 복사)</div>
        </div>

        <p id="status-text" class="status">서버 정보를 불러오는 중...</p>

        <div class="btn-group">
            <a href="https://discord.gg/8McnUtDGmQ" class="btn" target="_blank">공식 디스코드 입장</a>
        </div>
    </div>

    <script>
        // 주소 복사 함수
        function copyIP() {
            const domain = "grims.kro.kr";
            navigator.clipboard.writeText(domain).then(() => {
                alert("서버 주소(grims.kro.kr)가 복사되었습니다! 마크에서 추가해주세요.");
            });
        }
        
        // 실시간 서버 상태 가져오기 (공용 IP로 확인)
        async function fetchStatus() {
            try {
                // 도메인이 연결되어 있다면 도메인 주소로 조회해도 됩니다.
                const response = await fetch('https://api.mcstatus.io/v2/status/java/grims.kro.kr');
                const data = await response.json();
                const text = document.getElementById('status-text');
                
                if (data.online) {
                    text.innerHTML = `● 온라인: <span style="color:#2ed573">${data.players.online}명 접속 중</span>`;
                } else {
                    text.innerHTML = `○ 서버 점검 중 또는 오프라인`;
                    text.style.color = "#ff4757";
                }
            } catch (e) {
                document.getElementById('status-text').innerText = "상태 정보를 가져올 수 없습니다.";
            }
        }
        fetchStatus();
        // 1분마다 자동 새로고침
        setInterval(fetchStatus, 60000);
    </script>
</body>
</html>
